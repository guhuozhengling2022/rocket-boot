# 1.项目简介

这是一个用来生成前后端代码的脚手架项目，目的在于通过前端操作可以自动生成项目结构及相关代码，省略繁琐的重复代码和配置的编写。

# 2.使用技术

​	采用前后端分离架构设计，后端使用JDK17 + Springboot3.4 + Spring Data JPA + Sqlite等，前端使用vue3 + element-plus + antdesign。

​	后端项目在当前目录下的rocket-boot文件夹，使用到的maven依赖见pom.xml；前端的目录在当前目录下的ui文件夹。

# 3.项目规范

详细的中文注释以及详细的knife4j注解；额外引入的包需要注意兼容性，我们是一个JDK17+Springboot3.4的项目。由于环境原因，你可能无法执行代码和启动项目，因此你的任务只到代码写完就行，后续的测试我可以自己来。

# 4.功能

## 1.注册、登陆功能

需要注册和登陆功能，用户信息存储在sqlite中，token可以存储到redis，redis的地址是192.168.5.28，密码是Aa12345678。

## 2.代码生成

代码生成是一系列流程，下面我将逐步讲述。

## 2.1 数据库配置管理

​	由于不同的数据库的表的字段存在差异，每次进行代码生成前需要指定使用的数据库类型。因此，我们需要首先维护不同数据库的字段的相关数据，我们的项目需要支持三种数据库类型：mysql, sqlite,达梦。
关于配置，我想键1-2张表，如果是两张的话，内容如下：
1.数据库表，字段包括id和数据库名称。如果你感觉有不足的可以补充。
2.数据库字段设置表，用于配置每个字段可以进行的操作，我目前能想到的有：
id,关联的数据库表id，字段名称（比如VARCHAR，TEXT这种），字段能否设置长度（有些字段能设置，有些不能），字段能设置的最大长度，字段能否设置精度（对于某些数值类型可以设置总位数和小数点位数），是否可以自增（整型可以自增，而且除了sqlite别的数据库都有不止一种整型）。如果你感觉有不足的可以补充。

配置可以在前端页面进行管理，在代码生成路由专门有一个标签可以进行配置的查看和管理。

## 2.2 代码生成任务创建

​	一次代码生成任务包括以下几步，每一步都依赖上一步产生的结果：任务创建、表生成、repository生成、service生成、controller生成、api生成、页面生成，在前端页面可以以流程的方式进行交互，下面将逐个介绍功能。

### 2.2.1 任务创建

​	后续的代码生成步骤都是基于统一个任务的，可以创建到一半的时候退出，下次继续创建，也可以浏览历史上创建好的任务。目前我能想到的任务相关的字段有：id,description,模式名（可不填）,使用的数据库id（数据库配置管理功能中的数据库表，放在这里的意思是每个任务都必须使用统一的数据库类型）。如果你感觉有不足的可以补充。

### 2.2.2 表生成

​	这是最复杂的一步，在这里可以创建多张表，并为每张表生成DO，同时可以选择生成VO和DTO。

​	页面的交互第一步是创建表，在这里输入表的基本信息，因此需要一个表配置表，我能想到的字段有:id，关联的任务id，类名，表名（在数据库中的名字可以和类名不一样），中文名称，描述。如果你感觉有不足的可以补充。

​	页面交互的第二步是在第一步创建的表下面添加字段，添加字段时需要先选择字段名称，根据字段名称和任务选择的数据库类可以加载这个字段的配置（在数据库配置管理中的数据库字段设置表），加载后可以在页面上填写相关的内容，管理这个数据的表我能想到的字段有：id,关联的表配置表（对应第一步创建的表），字段的java名称，字段的数据库名称，字段的中文名称，字段的长度（只有该类字段可选长度时才能填长度，否则为null，后续的设置同理），字段的精度1，字段的精度2（对于一个numeric(10,2),10就是字段的精度1，2就是字段的精度2），字段是否非空，字段是否为主键，字段是否可自增。如果你感觉有不足的可以补充。

​	这里完成后，就可以预览生成的代码了（上述内容选完后需要后端提供一个根据上述信息生成实体类的功能，且需要包含knife4j注解和注释）。

​	我们这里其实还会有别的功能，包括VO生成和DTO生成，不过这两个可以先空着，你在界面给我留个地儿就行，我后面自己实现。

### 2.2.3 repository生成

​	对于2.2.2生成的每一张表，生成继承JPARepository的接口，并可以在页面预览代码。前端上帮我预留自定义数据查询接口的地儿，我后面自己实现。

### 2.2.4 service生成

​	对于2.2.3生成的每一个repository，生成使用它的service和serviceImpl，并可以在页面预览代码。前端上帮我预留自定义service的地儿。

### 2.2.5 controller + api + 页面生成

2.2.4完成后，后面就没有需要交互的地方了，可以直接生成controller、api和页面。其中，controller与service一一对应，比如我有3个service，每个service有4个功能，那我的controller就有3个，每个有4个接口。注意，contoller需要knife4j注解，页面可以预览controller。

api指的是api.js，也是和controller一一对应，是前端和后端交互的js代码，该文件的用法是：前端组件引入该js后，可以调用里面的方法和后端交互。

页面生成:生成上面的api后，需要生成一个使用该api所有方法的vue组件。



最后，你生成的后端代码和前端代码在这种情况下需要保证可以使用：把生成的所有后端代码放到当前后端工程中，把前端代码放到当前前端工程中（并手动添加路由信息），重启前后端项目后可以在前端正确的使用生成的功能。

最后的最后，注意代码规范，注意充足的中文注释！

